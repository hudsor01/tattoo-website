# Test info

- Name: Admin Dashboard with Simplified Layout >> should load admin dashboard correctly
- Location: /Users/richard/Developer/tattoo-website/tests/admin-layout-simplified.spec.ts:5:7

# Error details

```
Error: page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:3002/admin
Call log:
  - navigating to "http://localhost:3002/admin", waiting until "load"

    at /Users/richard/Developer/tattoo-website/tests/admin-layout-simplified.spec.ts:6:16
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 | import { chromium } from 'playwright';
   3 |
   4 | test.describe('Admin Dashboard with Simplified Layout', () => {
   5 |   test('should load admin dashboard correctly', async ({ page }) => {
>  6 |     await page.goto('/admin');
     |                ^ Error: page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:3002/admin
   7 |     
   8 |     // Check if the admin login form is displayed
   9 |     const loginForm = page.getByText('Secure Access');
  10 |     await expect(loginForm).toBeVisible();
  11 |     
  12 |     // Check if sidebar is loaded from the new layout
  13 |     const sidebar = page.locator('[data-sidebar="sidebar"]');
  14 |     await expect(sidebar).toBeVisible();
  15 |     
  16 |     // Verify key UI elements are present
  17 |     const googleButton = page.getByText('Continue with Google');
  18 |     await expect(googleButton).toBeVisible();
  19 |     
  20 |     const emailInput = page.getByPlaceholder('admin@example.com');
  21 |     await expect(emailInput).toBeVisible();
  22 |   });
  23 |
  24 |   test('should have correct sidebar navigation', async ({ page }) => {
  25 |     await page.goto('/admin');
  26 |     
  27 |     // Check that the sidebar contains all the expected navigation items
  28 |     await expect(page.getByText('Dashboard')).toBeVisible();
  29 |     await expect(page.getByText('Bookings')).toBeVisible();
  30 |     await expect(page.getByText('Customers')).toBeVisible();
  31 |     await expect(page.getByText('Gallery')).toBeVisible();
  32 |     await expect(page.getByText('Payments')).toBeVisible();
  33 |     await expect(page.getByText('Settings')).toBeVisible();
  34 |     
  35 |     // Verify the sidebar structure
  36 |     const sidebar = page.locator('[data-sidebar="sidebar"]');
  37 |     await expect(sidebar).toBeVisible();
  38 |     
  39 |     // Check for the logo/brand in the sidebar header
  40 |     const sidebarHeader = page.locator('[data-sidebar="header"]');
  41 |     await expect(sidebarHeader).toBeVisible();
  42 |     
  43 |     // Verify the sidebar footer with user info is present
  44 |     const sidebarFooter = page.locator('[data-sidebar="footer"]');
  45 |     await expect(sidebarFooter).toBeVisible();
  46 |   });
  47 |   
  48 |   test('admin dashboard should handle responsive layout', async ({ page }) => {
  49 |     // Set viewport to mobile size
  50 |     await page.setViewportSize({ width: 390, height: 844 });
  51 |     await page.goto('/admin');
  52 |     
  53 |     // In mobile view, the sidebar should be in Sheet/offcanvas mode
  54 |     // Verify login screen is properly displayed on mobile
  55 |     const loginForm = page.getByText('Secure Access');
  56 |     await expect(loginForm).toBeVisible();
  57 |     
  58 |     // Check if the mobile-optimized UI is present
  59 |     const mobileUI = page.locator('.max-w-md');
  60 |     await expect(mobileUI).toBeVisible();
  61 |     
  62 |     // Set viewport to desktop size
  63 |     await page.setViewportSize({ width: 1280, height: 800 });
  64 |     
  65 |     // In desktop view, the sidebar should be visible
  66 |     await page.waitForTimeout(500); // Small delay for viewport change
  67 |     
  68 |     // Verify desktop layout is properly displayed
  69 |     await expect(page.locator('[data-sidebar="sidebar"]')).toBeVisible();
  70 |   });
  71 | });
```